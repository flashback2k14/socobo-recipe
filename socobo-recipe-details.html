<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../paper-fab/paper-fab.html">
<link rel="import" href="../paper-dialog/paper-dialog.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="socobo-recipe-overview.html">
<link rel="import" href="socobo-recipe-details-step.html">
<link rel="import" href="socobo-recipe-details-incredient.html">
<link rel="import" href="../neon-animation/neon-animations.html">
<dom-module id="socobo-recipe-details">
  <style>
    :host {
      display: block;
    }

    .wrapper {
      background-color: white;
      min-width: 700px;
      color: var(--primary-text-color);
      font-family: sans-serif;
      border-radius: 5px;
      line-height: 2;
      padding: 0;
    }

    #dialog{
      margin-top : 20px;
      margin-bottom: 0;
      top: 20px;
      min-height: 85vh;
    }
    .content {
      @apply(--layout-horizontal);
    }

    .leftColumn {
      width: 300px;
      padding: 30px;
      padding-top: 0;
    }

    .rightColumn {
      width: 100%;
      margin-right: 0px;
      padding: 30px;
      padding-top: 0;
      overflow: hidden;
    }

    .wrapper h1 {
      z-index: 15;
      padding-left: 30px;
      margin: 0;
      letter-spacing: -1px;
      color: #8A7F80;
      font-weight: 400;
      font-size: 30px;
    }

    .recipeImg {
      background-color: gainsboro;
      width: 280px;
      height: 280px;
    }


    .text {
      vertical-align: text-top;
      margin-bottom: 40px;
      text-align: justify;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .step {
      width: 100%;
    }

    #exit iron-icon{
      width: 30px;
      height: 30px;
      float: right;
    }

    #exit{
      width: 100%;
      height: 50px;
      line-height: 50px;
      position: absolute;
      padding: 0;
      margin: 0;
      top:0px;
      right: 0px;
      color: #8A7F80;
      font-weight: 100;
    }


    #exit:hover {
      color: var(--accent-color);
      cursor: pointer;
    }

    .content {
      padding: 0;
      margin: 0;
      padding-top: 0;
    }


  </style>
  <template>
      <paper-dialog elevation="0" class="wrapper" id="dialog" modal
                    entry-animation="scale-up-animation"
                    exit-animation="fade-out-animation"
                    with-backdrop>
        <paper-button id="exit" dialog-dismiss>
          <iron-icon icon="clear"></iron-icon>
        </paper-button>
        <h1>{{recipe.desc}}</h1>
        <div class="content">
          <div class="leftColumn">
            <paper-material elevation="1" class="recipeImg">

            </paper-material>
            <div class="ingredients">
              <template is="dom-repeat" items="{{recipe.incredients}}">
                <socobo-recipe-details-incredient incredient="{{item}}"></socobo-recipe-details-incredient>
              </template>
            </div>
          </div>
          <div class="rightColumn">
            <div class="text">{{recipe.text}}</div>
            <div class="steps">
              <template is="dom-repeat" items="{{recipe.steps}}">
                <socobo-recipe-details-step class="step" step="{{item}}"></socobo-recipe-details-step>
              </template>
            </div>
          </div>
          <div class="buttonPanel">
            <paper-button>
            </paper-button>
          </div>
        </div>
      </paper-dialog>
  </template>

</dom-module>

<script>
  (function() {
    Polymer({
      is: 'socobo-recipe-details',
      properties: {
        recipe : {
          type : Object,
          value : {}
        },
      },
      exit : function () {
        this.fire("exit_request");
      },
      toggleDialog : function(){
        this.$.dialog.toggle();
      }
    });
  })();
</script>


